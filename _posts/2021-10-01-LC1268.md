---
layout: post
title: 1268. Search Suggestions System
gh-badge: [star, fork, follow]
tags: [Array, String, Trie]
comments: true
---

```python
class Solution:
    def suggestedProducts(self, words: List[str], query: str) -> List[List[str]]:
        """
        tc O(NlgN+L^2*lg(N)) sc O(1)  L: len(query)
        1. sort the dictionary
        2. iterate query to concatenate prefix of query 
        3. for each prefix, find the index where everything previously is smaller than current prefix 
        4. start from current index up to 3 steps further, check if corresponding word start with prefix, if qualify, put into top3 as current partial query's response
        5. append top3 into res array 
        """
        words.sort()
        prefix = ''
        res = []
        for c in query:
            prefix += c 
            idx = bisect.bisect_left(words,prefix)
            top3 = []
            for i in range(idx, min(len(words),idx+3)):
                if words[i].startswith(prefix): # tc O(L)
                    top3.append(words[i])
            res.append(top3)
        return res 
```