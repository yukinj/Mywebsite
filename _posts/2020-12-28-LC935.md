---
layout: post
title: 935. Knight Dialer
gh-badge: [star, fork, follow]
tags: [DP]
comments: true
---

```python
class Solution:
    def knightDialer(self, n: int) -> int:
        dp = [[[0]*3 for _ in range(4)] for _ in range(n+1)]
        self.m = 10**9+7
        self.dir = [(-1,-2),(-1,2),(1,-2),(1,2),(-2,-1),(-2,1),(2,-1),(2,1)]
        res = 0
        for i in range(4):
            for j in range(3):
                res = (res + self.dfs(dp,i,j,n)) % self.m
        return res
    def dfs(self,dp,i,j,n):
        if i < 0 or i >=4 or j < 0 or j >= 3 or (i==3 and j !=1) :
            return 0
        if n == 1:
            return 1
        if dp[n][i][j]: 
            return dp[n][i][j]
        for d in self.dir:
            dp[n][i][j] += self.dfs(dp,i+d[0],j+d[1],n-1)% self.m
        return dp[n][i][j]

```