---
layout: post
title: 1283. Find the Smallest Divisor Given a Threshold
gh-badge: [star, fork, follow]
tags: [Binary Search]
comments: true
---

```python
# time O(MlgN)  where M = len(nums), N = max(nums)
class Solution:
    def smallestDivisor(self, nums: List[int], threshold: int) -> int:
        r = max(nums)
        l = 1
        while l < r:
            mid = l + (r-l)//2
            _sum = 0
            for num in nums:
                _sum += math.ceil(num/mid)  # sum((a + m - 1) // m for a in A)  
            if _sum < threshold:
                r = mid
            elif _sum == threshold:
                r = mid
            elif _sum > threshold:
                l = mid +1 
        return l
############################################### seperate  binary
class Solution:
    def smallestDivisor(self, A: List[int], threshold: int) -> int:
        """tc O(N+NlgM)  N: len(A), M:maxv-minv
        1. set min,max 
        2.compare with threshold
        3. adjust to get smallest divisor 
        """
        minv,maxv = 1,A[0]
        for a in A:
            if a < minv:
                minv = a
            if a > maxv:
                maxv = a
        l,r = minv,maxv
        while l < r:
            mid = l + (r-l)//2
            if self.div_sum(A,threshold,mid):
                r = mid
            else:
                l = mid+1
        return r 
        
    def div_sum(self,A,limit,div):  # return True/ False 
        total = 0
        for a in A:
            total += math.ceil(a/div)
        return total <= limit


```